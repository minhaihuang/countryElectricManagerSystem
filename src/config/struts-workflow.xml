<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

	<package name="workflow" namespace="/workflow" extends="new-struts-default">
		<!-- 注意，此处的class名称一定要与beans.xml中配置该Action的bean标签的id属性值相同 -->
		<action name="elecProcessDefinitionAction_*" class="elecProcessDefinitionAction"
			method="{1}">
			<result name="processDefinitionAdd" type="dispatcher">
				/WEB-INF/jsp/workflow/processDefinitionAdd.jsp
			</result>

			<result name="processDefinitionHome" type="dispatcher">
				/WEB-INF/jsp/workflow/processDefinitionHome.jsp
			</result>

			<result name="deployment" type="redirectAction">
				workflow/elecProcessDefinitionAction_processDefinitionHome.action
			</result>

			<result name="showProcessImg" type="stream">
				<param name="contentType">image/png</param>
				<param name="inputName">inputStream</param>
			</result>

			<result name="delete" type="redirectAction">
				workflow/elecProcessDefinitionAction_processDefinitionHome.action
			</result>
		</action>

		<action name="elecApplyTemplateAction_*" class="elecApplyTemplateAction"
			method="{1}">
			<result name="applyTemplateHome" type="dispatcher">
				/WEB-INF/jsp/workflow/applyTemplateHome.jsp
			</result>

			<result name="applyTemplateAdd" type="dispatcher">
				/WEB-INF/jsp/workflow/applyTemplateAdd.jsp
			</result>

			<!-- 文件下载 -->
			<result name="download" type="stream">
				<param name="contentType">${#request.contentType}</param>
				<param name="contentDisposition">attachment;filename=${#request.filename}</param>
				<param name="inputName">inputStream</param>
			</result>
			
			<result name="delete" type="redirectAction">
				workflow/elecApplyTemplateAction_applyTemplateHome.action
			</result>
			
			<result name="upload" type="redirectAction">
				workflow/elecApplyTemplateAction_applyTemplateHome.action
			</result>

		</action>
		
		<action name="elecApplyAction_*" class="elecApplyAction" method="{1}">
			<result name="applyHome" type="dispatcher">
				/WEB-INF/jsp/workflow/applyHome.jsp
			</result>
			
			<result name="startApply" type="redirectAction">
				workflow/elecApplyAction_applyMy.action
			</result>
			
			<result name="applyMy" type="dispatcher">
				/WEB-INF/jsp/workflow/applyMy.jsp
			</result>
		</action>
		
		<action name="elecTaskAction_*" class="elecTaskAction" method="{1}">
			<result name="taskMy" type="dispatcher">
				/WEB-INF/jsp/workflow/taskMy.jsp
			</result>
			
			<result name="taskApprove" type="dispatcher">
				/WEB-INF/jsp/workflow/taskApprove.jsp
			</result>
			
			<!-- 文件下载 -->
			<result name="download" type="stream">
				<param name="contentType">${#request.contentType}</param>
				<param name="contentDisposition">attachment;filename=${#request.fileName}</param>
				<param name="inputName">inputStream</param>
			</result>
			
			<result name="approve" type="redirectAction">
				workflow/elecTaskAction_taskMy.action
			</result>
			
			<result name="processDetail" type="dispatcher">
				/WEB-INF/jsp/workflow/processDetail.jsp
			</result>
			
		</action>
	</package>
</struts>